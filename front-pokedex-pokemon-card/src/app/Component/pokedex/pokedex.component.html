<div class="pokedex-container">
    <h1 class="title">{{ pokedex?.name }}</h1>

    @if(completion)
    {
        <div class="pokedex-bar-container" [matTooltip]="getValueProgressBar() + '%'">
            <mat-progress-bar class="progress-bar-pokedex" mode="determinate" [value]="getValueProgressBar()"></mat-progress-bar>
            <span>{{ completion.ownedPokemonNb }} / {{ completion.maxPokemon }}</span>
        </div>
    }
    
    
  <div class="filter-slides">
    <div class="left-controls">
      <div class="item-list search-wrapper">
        <button mat-button>
            <mat-icon fontIcon="search" class="icon-white" (click)="toggleSearch()"></mat-icon>
        </button>

          <input
            type="text"
            [(ngModel)]="searchText"
            (input)="onSearchInputChange($event)"
            placeholder="Rechercher un Pokémon..."
            class="search-input"
            [class.show]="showSearchInput"
            [attr.autofocus]="showSearchInput ? true : null"
          />
         

      </div>

      <mat-slide-toggle
        class="classic-slide-toggle"
        [(ngModel)]="filters.filterHiddenActivated"
        (change)="handleToggleHideSlide($event.checked)"
        >Cachés</mat-slide-toggle
      >
    </div>
    

    @if(isPokedexOwner) {
    <mat-icon
      fontIcon="ios_share"
      (click)="handleShareCode()"
      class="share"
      matTooltip="Copier le code de partage"
      tabindex="0"
    ></mat-icon>
    }
  </div>

  @if(this.searchText == "")
  {
    <div class="gen-buttons">
      @for(gen of generations; track gen) {
        <a class="gen" [class]="getClassButton(gen)" (click)="selectGen(gen)"
          >Gen {{ gen }}</a
        >
        }
    </div>
  }
  

  <div class="pokemon-grid">
    @for(p of pokemons; track p.id) {
    <div class="pokemon" (click)="handlePokemonClick(p.id)">
      <img [src]="p.imagePath" />
      <span>{{ p.name }}</span>
      <span class="pokemon-number">{{
        pokemonUtilsService.formatPokedexId(p.pokedexId)
      }}</span>
      @if(isPokemonHidden(p.id)) {
      <mat-icon class="icon-white icon">visibility_off</mat-icon>

      }
    </div>
    }
  </div>
</div>
